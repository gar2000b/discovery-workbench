"Deposit Transactions End of Day Flow Instructions:\n\n1. Download and install Confluent 3.3.0 from https://www.confluent.io/download/\n\n2. Set env variable CONFLUENT_HOME to your confluence installation like: C:\\programs\\confluent-3.3.0\n\n3. Set env variable CLASSPATH to pick up confluence libraries like: %CLASSPATH%;%CONFLUENT_HOME%\\share\\java\\kafka\\*\n\n3. Download and install Elasticsearch 5.5.2 from https://www.elastic.co/downloads/past-releases\n\n4. Set env variable ELASTIC_HOME to your elastic installation like: C:\\programs\\elasticsearch-5.5.2\n\n5. Clone all of the relevant microservices/applications into a common work directory\n\n6. Set env variable WORK to your common work directory like: C:\\work\n\n7. Add listeners=PLAINTEXT://localhost:9002 to %CONFLUENT_HOME%\\etc\\kafka\\server.properties\n\n8. Under %CONFLUENT_HOME%\\bin\\windows\\zookeeper-server-start.bat on line 24, change exists to exist\n\n9. Under %CONFLUENT_HOME%\\bin\\windows\\kafka-server-start.bat on line 24, change exists to exist\n\n10. Under %CONFLUENT_HOME%\\bin\\windows\\kafka-run-class.bat, change all references to exists to exist\n\n11. Restart Discovery Workbench and reload this project for environment variables to take effect"
["a08e51ec-0146-41c8-899d-e73583d841ea","fe151488-10d9-4fdd-a85a-b36a63ac166f","70a9e615-198c-4c5b-97ae-2ae44096ebf3","473e40e5-d794-4f11-ae34-642a1b281021","7a1e598e-421e-45f8-a720-b3b487c56753","5ff870f0-9604-42d6-9647-96945f553634"]
{"uuid":"473e40e5-d794-4f11-ae34-642a1b281021","x":770.0,"y":107.000046,"color1":{"r":1.0,"g":0.49803922,"b":0.3137255,"a":1.0},"color2":{"r":1.0,"g":0.49803922,"b":0.3137255,"a":1.0},"label":"Elastic","startupCommand":"%ELASTIC_HOME%\\bin\\elasticsearch.bat","shutdownCommand":"cmd /c wmic process where (commandline like \"%%elastic%%\" and not name=\"wmic.exe\") delete","shutdown2Command":"","runningClause":"started","servicePortNo":"9200","processingType":"SEQ","serviceStatus":"SHUTDOWN","instanceOffsetX":165.0,"instanceOffsetY":59.999954,"previousTimeMillis":1510321219407,"type":"INFRASTRUCTURE"}
{"uuid":"70a9e615-198c-4c5b-97ae-2ae44096ebf3","x":705.0,"y":141.00002,"color1":{"r":1.0,"g":0.49803922,"b":0.3137255,"a":1.0},"color2":{"r":1.0,"g":0.49803922,"b":0.3137255,"a":1.0},"label":"Schema Registry","startupCommand":"cmd /c \"\\Program Files\\Java\\jdk1.8.0_60/bin/java\" -Xmx512M -Xms512M -server -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:+DisableExplicitGC -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dlog4j.configuration=file:/work/ccp/infrastructure/schema-registry/config/log4j.properties -Dschema-registry.log.dir=/tmp/logs/schema-registry -cp C:\\programs\\confluent-3.3.0/share/java/schema-registry/*;C:\\programs\\confluent-3.3.0/share/java/rest-utils/*;C:\\programs\\confluent-3.3.0/share/java/confluent-common/* io.confluent.kafka.schemaregistry.rest.SchemaRegistryMain /work/ccp/infrastructure/schema-registry/config/schema-registry.properties","shutdownCommand":"","shutdown2Command":"","runningClause":"INFO Initializing KafkaStore with broker endpoints:","servicePortNo":"","processingType":"SEQ","serviceStatus":"SHUTDOWN","instanceOffsetX":160.0,"instanceOffsetY":95.99997,"previousTimeMillis":1510321218858,"type":"INFRASTRUCTURE"}
{"uuid":"fe151488-10d9-4fdd-a85a-b36a63ac166f","x":649.0,"y":170.99998,"color1":{"r":1.0,"g":0.49803922,"b":0.3137255,"a":1.0},"color2":{"r":1.0,"g":0.49803922,"b":0.3137255,"a":1.0},"label":"Kafka","startupCommand":"%CONFLUENT_HOME%\\bin\\windows\\kafka-server-start.bat %CONFLUENT_HOME%\\etc\\kafka\\server.properties","shutdownCommand":"%CONFLUENT_HOME%\\bin\\windows\\kafka-server-stop.bat","shutdown2Command":"cmd /c rd /S /Q c:\\tmp\\kafka-logs","runningClause":"started (kafka.server.KafkaServer)","servicePortNo":"9092","processingType":"SEQ","serviceStatus":"SHUTDOWN","instanceOffsetX":165.0,"instanceOffsetY":74.000015,"previousTimeMillis":1510321136575,"type":"INFRASTRUCTURE"}
{"uuid":"5ff870f0-9604-42d6-9647-96945f553634","x":742.00006,"y":477.0,"color1":{"r":0.13333334,"g":0.54509807,"b":0.13333334,"a":1.0},"color2":{"r":0.13333334,"g":0.54509807,"b":0.13333334,"a":1.0},"label":"Deposit TXs EOD Elastic","startupCommand":"java -jar %WORK%\\deposit-transactions-eod\\deposit-transactions-eod-elastic-ws\\target\\deposit-transactions-eod-elastic-ws-0.0.1-SNAPSHOT.jar","shutdownCommand":"","shutdown2Command":"","runningClause":"Started App","servicePortNo":"","processingType":"PAR","serviceStatus":"SHUTDOWN","instanceOffsetX":139.99994,"instanceOffsetY":70.0,"previousTimeMillis":1510321131286,"type":"MICROSERVICE"}
{"uuid":"52b40707-fdd4-4ab3-a78f-352fc7f723e7","x":740.0001,"y":657.0,"color1":{"r":0.0,"g":0.0,"b":1.0,"a":1.0},"color2":{"r":0.49803922,"g":0.49803922,"b":0.49803922,"a":1.0},"label":"DIR C Drive","startupCommand":"cmd /c \"dir c:\\\"","shutdownCommand":null,"shutdown2Command":null,"runningClause":null,"servicePortNo":null,"processingType":"SEQ","serviceStatus":"SHUTDOWN","instanceOffsetX":14.999878,"instanceOffsetY":17.0,"previousTimeMillis":1510321125604,"type":"SCRIPT"}
{"uuid":"a08e51ec-0146-41c8-899d-e73583d841ea","x":597.0002,"y":204.0,"color1":{"r":1.0,"g":0.49803922,"b":0.3137255,"a":1.0},"color2":{"r":1.0,"g":0.49803922,"b":0.3137255,"a":1.0},"label":"Zookeeper","startupCommand":"%CONFLUENT_HOME%\\bin\\windows\\zookeeper-server-start.bat %CONFLUENT_HOME%\\etc\\kafka\\zookeeper.properties","shutdownCommand":"%CONFLUENT_HOME%\\bin\\windows\\zookeeper-server-stop.bat","shutdown2Command":"cmd /c rd /S /Q c:\\tmp\\zookeeper","runningClause":"binding to port 0.0.0.0/0.0.0.0:2181","servicePortNo":"2181","processingType":"SEQ","serviceStatus":"SHUTDOWN","instanceOffsetX":112.99982,"instanceOffsetY":93.0,"previousTimeMillis":1510320743616,"type":"INFRASTRUCTURE"}
{"uuid":"194901da-ce79-4d6b-816a-efce6ac98a37","x":342.99988,"y":128.99994,"color1":{"r":0.0,"g":0.0,"b":1.0,"a":1.0},"color2":{"r":0.49803922,"g":0.49803922,"b":0.49803922,"a":1.0},"label":"Build Loader","startupCommand":"","shutdownCommand":null,"shutdown2Command":null,"runningClause":"","servicePortNo":"","processingType":"SEQ","serviceStatus":"SHUTDOWN","instanceOffsetX":122.00012,"instanceOffsetY":38.00006,"previousTimeMillis":1510181723353,"type":"SCRIPT"}
{"uuid":"f2d37431-6b84-46ab-b1ca-c3dda2ba1d04","x":297.99997,"y":162.0,"color1":{"r":0.0,"g":0.0,"b":1.0,"a":1.0},"color2":{"r":0.49803922,"g":0.49803922,"b":0.49803922,"a":1.0},"label":"Build Dpt TXs EOD Elastic","startupCommand":"cmd /c \"cd %WORK%\\deposit-transactions-eod\\deposit-transactions-eod-elastic-ws & mvn clean package\"","shutdownCommand":null,"shutdown2Command":null,"runningClause":"","servicePortNo":"","processingType":"SEQ","serviceStatus":"SHUTDOWN","instanceOffsetX":171.00003,"instanceOffsetY":35.0,"previousTimeMillis":1510181722003,"type":"SCRIPT"}
{"uuid":"e697f8b1-74c9-4bd3-b542-dc983fa379e1","x":247.99979,"y":197.99998,"color1":{"r":0.0,"g":0.0,"b":1.0,"a":1.0},"color2":{"r":0.49803922,"g":0.49803922,"b":0.49803922,"a":1.0},"label":"Build Dpt TXs EOD Kafka","startupCommand":"cmd /c \"cd %WORK%\\deposit-transactions-eod\\deposit-transactions-eod-kafka-ws & mvn clean package\"","shutdownCommand":null,"shutdown2Command":null,"runningClause":"","servicePortNo":"","processingType":"SEQ","serviceStatus":"SHUTDOWN","instanceOffsetX":142.00021,"instanceOffsetY":38.0,"previousTimeMillis":1510181720367,"type":"SCRIPT"}
{"uuid":"735cf236-7dc0-4fa2-b5f9-622f905a27f8","x":363.99997,"y":659.0,"color1":{"r":0.0,"g":0.0,"b":1.0,"a":1.0},"color2":{"r":0.49803922,"g":0.49803922,"b":0.49803922,"a":1.0},"label":"Loader","startupCommand":"","shutdownCommand":null,"shutdown2Command":null,"runningClause":"","servicePortNo":"","processingType":"SEQ","serviceStatus":"SHUTDOWN","instanceOffsetX":97.00003,"instanceOffsetY":36.0,"previousTimeMillis":1510181711458,"type":"SCRIPT"}
{"uuid":"7a1e598e-421e-45f8-a720-b3b487c56753","x":362.0,"y":481.0,"color1":{"r":0.13333334,"g":0.54509807,"b":0.13333334,"a":1.0},"color2":{"r":0.13333334,"g":0.54509807,"b":0.13333334,"a":1.0},"label":"Deposit TXs EOD Kafka","startupCommand":"java -jar %WORK%\\deposit-transactions-eod\\deposit-transactions-eod-kafka-ws\\target\\deposit-transactions-eod-kafka-ws-0.0.1-SNAPSHOT.jar","shutdownCommand":"","shutdown2Command":"","runningClause":"Started EodKafkaApplication","servicePortNo":"","processingType":"PAR","serviceStatus":"SHUTDOWN","instanceOffsetX":84.0,"instanceOffsetY":59.0,"previousTimeMillis":1510181666381,"type":"MICROSERVICE"}
#endTemplateInstances
{"x":549.0,"y":527.0,"instanceOffsetX":34.0,"instanceOffsetY":2.0}
#endArrows
{"x":619.0,"y":579.0,"instanceOffsetX":21.0,"instanceOffsetY":-56.0}
{"x":240.0,"y":581.0,"instanceOffsetX":15.0,"instanceOffsetY":-54.0}
#endTopics
{"x":1004.0,"y":576.0,"instanceOffsetX":77.0,"instanceOffsetY":-46.0}
#endDataStores
